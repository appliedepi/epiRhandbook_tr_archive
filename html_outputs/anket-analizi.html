<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>26 Anket analizi | The Epidemiologist R Handbook</title>
<meta name="author" content="the handbook team">
<meta name="description" content="26.1 Genel bakış Bu sayfa, anket analizi için çeşitli paketlerin kullanımını göstermektedir. Çoğu anket R paketleri, ağırlıklı analiz yapmak için survey paketine güvenir. survey paketinin yanı...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="26 Anket analizi | The Epidemiologist R Handbook">
<meta property="og:type" content="book">
<meta property="og:description" content="26.1 Genel bakış Bu sayfa, anket analizi için çeşitli paketlerin kullanımını göstermektedir. Çoğu anket R paketleri, ağırlıklı analiz yapmak için survey paketine güvenir. survey paketinin yanı...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="26 Anket analizi | The Epidemiologist R Handbook">
<meta name="twitter:description" content="26.1 Genel bakış Bu sayfa, anket analizi için çeşitli paketlerin kullanımını göstermektedir. Çoğu anket R paketleri, ağırlıklı analiz yapmak için survey paketine güvenir. survey paketinin yanı...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.24/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.1.0/tabwid.css" rel="stylesheet">
<link href="libs/tabwid-1.1.0/scrool.css" rel="stylesheet">
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.9/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-2.5.1/plotly-basic-2.5.1.min.js"></script><script src="libs/plotly-cartesian-2.5.1/plotly-cartesian-2.5.1.min.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-9.3.1/highcharts.js"></script><script src="libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="libs/highcharts-9.3.1/highcharts-more.js"></script><script src="libs/highcharts-9.3.1/modules/stock.js"></script><script src="libs/highcharts-9.3.1/modules/map.js"></script><script src="libs/highcharts-9.3.1/modules/data.js"></script><script src="libs/highcharts-9.3.1/modules/exporting.js"></script><script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="libs/highcharts-9.3.1/modules/item-series.js"></script><script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-9.3.1/modules/annotations.js"></script><script src="libs/highcharts-9.3.1/modules/export-data.js"></script><script src="libs/highcharts-9.3.1/modules/funnel.js"></script><script src="libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="libs/highcharts-9.3.1/modules/treemap.js"></script><script src="libs/highcharts-9.3.1/modules/sankey.js"></script><script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="libs/highcharts-9.3.1/modules/organization.js"></script><script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="libs/highcharts-9.3.1/modules/vector.js"></script><script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="libs/highcharts-9.3.1/modules/xrange.js"></script><script src="libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="libs/highcharts-9.3.1/modules/venn.js"></script><script src="libs/highcharts-9.3.1/modules/gantt.js"></script><script src="libs/highcharts-9.3.1/modules/timeline.js"></script><script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="libs/highcharts-9.3.1/modules/bullet.js"></script><script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="libs/highcharts-9.3.1/modules/series-label.js"></script><script src="libs/highcharts-9.3.1/plugins/motion.js"></script><script src="libs/highcharts-9.3.1/custom/reset.js"></script><script src="libs/highcharts-9.3.1/modules/boost.js"></script><script src="libs/highchart-binding-0.9.4/highchart.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">The Epidemiologist R Handbook</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">About this book</li>
<li><a class="" href="%C3%B6nyaz%C4%B1-ve-teknik-notlar.html"><span class="header-section-number">1</span> Önyazı ve teknik notlar</a></li>
<li><a class="" href="el-kitab%C4%B1-ve-verileri-indirme.html"><span class="header-section-number">2</span> El Kitabı ve verileri indirme</a></li>
<li><a class="" href="b%C3%B6l%C3%BCm-temel-bilgiler.html">(BÖLÜM) Temel Bilgiler</a></li>
<li><a class="" href="r%C4%B1n-temelleri.html"><span class="header-section-number">3</span> R’ın Temelleri</a></li>
<li><a class="" href="ra-ge%C3%A7i%C5%9F.html"><span class="header-section-number">4</span> R’a geçiş</a></li>
<li><a class="" href="%C3%B6nerilen-paketler-1.html"><span class="header-section-number">5</span> Önerilen paketler</a></li>
<li><a class="" href="r-projeleri.html"><span class="header-section-number">6</span> R projeleri</a></li>
<li><a class="" href="i%C3%A7e-ve-d%C4%B1%C5%9Fa-aktar.html"><span class="header-section-number">7</span> İçe ve dışa aktar</a></li>
<li class="book-part">Data Management</li>
<li><a class="" href="veri-temizli%C4%9Fi-ve-temel-fonksiyonlar.html"><span class="header-section-number">8</span> Veri temizliği ve temel fonksiyonlar</a></li>
<li><a class="" href="tarihlerle-%C3%A7al%C4%B1%C5%9Fma.html"><span class="header-section-number">9</span> Tarihlerle çalışma</a></li>
<li><a class="" href="karakterler-ve-dizeler.html"><span class="header-section-number">10</span> Karakterler ve dizeler</a></li>
<li><a class="" href="fakt%C3%B6rler.html"><span class="header-section-number">11</span> Faktörler</a></li>
<li><a class="" href="verilerin-pivotlanmas%C4%B1.html"><span class="header-section-number">12</span> Verilerin pivotlanması</a></li>
<li><a class="" href="verileri-gruplama.html"><span class="header-section-number">13</span> Verileri Gruplama</a></li>
<li><a class="" href="veri-birle%C5%9Ftirme.html"><span class="header-section-number">14</span> Veri Birleştirme</a></li>
<li><a class="" href="tekille%C5%9Ftirme-1.html"><span class="header-section-number">15</span> Tekilleştirme</a></li>
<li><a class="" href="yineleme-d%C3%B6ng%C3%BCler-ve-listeler.html"><span class="header-section-number">16</span> Yineleme, döngüler ve listeler</a></li>
<li class="book-part">Analysis</li>
<li><a class="" href="tan%C4%B1mlay%C4%B1c%C4%B1-tablolar.html"><span class="header-section-number">17</span> Tanımlayıcı tablolar</a></li>
<li><a class="" href="basit-istatistiksel-testler.html"><span class="header-section-number">18</span> Basit istatistiksel testler</a></li>
<li><a class="" href="tek-de%C4%9Fi%C5%9Fkenli-ve-%C3%A7ok-de%C4%9Fi%C5%9Fkenli-regresyon.html"><span class="header-section-number">19</span> Tek değişkenli ve çok değişkenli regresyon</a></li>
<li><a class="" href="eksik-veri.html"><span class="header-section-number">20</span> Eksik Veri</a></li>
<li><a class="" href="standardize-edilmi%C5%9F-h%C4%B1zlar.html"><span class="header-section-number">21</span> Standardize edilmiş hızlar</a></li>
<li><a class="" href="hareketli-ortalamalar.html"><span class="header-section-number">22</span> Hareketli ortalamalar</a></li>
<li><a class="" href="zaman-serileri-ve-salg%C4%B1nlar%C4%B1n-tespit-edilmesi.html"><span class="header-section-number">23</span> Zaman serileri ve salgınların tespit edilmesi</a></li>
<li><a class="" href="salg%C4%B1n-modelleme.html"><span class="header-section-number">24</span> Salgın Modelleme</a></li>
<li><a class="" href="temasl%C4%B1-izlemi.html"><span class="header-section-number">25</span> Temaslı izlemi</a></li>
<li><a class="active" href="anket-analizi.html"><span class="header-section-number">26</span> Anket analizi</a></li>
<li><a class="" href="sa%C4%9Fkal%C4%B1m-analizi.html"><span class="header-section-number">27</span> Sağkalım Analizi</a></li>
<li><a class="" href="co%C4%9Frafi-bilgi-sistemleri-cbs-temelleri.html"><span class="header-section-number">28</span> Coğrafi Bilgi Sistemleri (CBS) Temelleri</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="sunum-i%C3%A7in-tablolar.html"><span class="header-section-number">29</span> Sunum için tablolar</a></li>
<li><a class="" href="ggplot-temelleri.html"><span class="header-section-number">30</span> ggplot temelleri</a></li>
<li><a class="" href="ggplot-ipu%C3%A7lar%C4%B1.html"><span class="header-section-number">31</span> ggplot ipuçları</a></li>
<li><a class="" href="salg%C4%B1n-e%C4%9Frileri.html"><span class="header-section-number">32</span> Salgın eğrileri</a></li>
<li><a class="" href="demografik-piramidler-ve-likert-%C3%B6l%C3%A7ekler.html"><span class="header-section-number">33</span> Demografik piramidler ve likert ölçekler</a></li>
<li><a class="" href="is%C4%B1-grafikleri.html"><span class="header-section-number">34</span> Isı grafikleri</a></li>
<li><a class="" href="diyagramlar-ve-%C3%A7izelgeler.html"><span class="header-section-number">35</span> Diyagramlar ve çizelgeler</a></li>
<li><a class="" href="kombinasyon-analizi.html"><span class="header-section-number">36</span> Kombinasyon analizi</a></li>
<li><a class="" href="iletim-zincirleri.html"><span class="header-section-number">37</span> İletim Zincirleri</a></li>
<li><a class="" href="filogenetik-a%C4%9Fa%C3%A7lar-1.html"><span class="header-section-number">38</span> Filogenetik ağaçlar</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">39</span> Interactive plots</a></li>
<li class="book-part">Reports and dashboards</li>
<li><a class="" href="r-markdown-ile-raporlar.html"><span class="header-section-number">40</span> R Markdown ile Raporlar</a></li>
<li><a class="" href="rutin-raporlar%C4%B1n-d%C3%BCzenlenmesi.html"><span class="header-section-number">41</span> Rutin raporların düzenlenmesi</a></li>
<li><a class="" href="r-markdown-ile-g%C3%B6sterge-panelleri.html"><span class="header-section-number">42</span> R Markdown ile gösterge panelleri</a></li>
<li><a class="" href="shiny-ile-g%C3%B6sterge-panelleri.html"><span class="header-section-number">43</span> Shiny ile Gösterge Panelleri</a></li>
<li class="book-part">Miscellaneous</li>
<li><a class="" href="yazma-fonksiyonlar%C4%B1.html"><span class="header-section-number">44</span> Yazma fonksiyonları</a></li>
<li><a class="" href="dizin-etkile%C5%9Fimleri.html"><span class="header-section-number">45</span> Dizin etkileşimleri</a></li>
<li><a class="" href="git-ve-github-ile-s%C3%BCr%C3%BCm-kontrol%C3%BC-ve-i%C5%9Fbirli%C4%9Fi.html"><span class="header-section-number">46</span> Git ve Github ile sürüm kontrolü ve işbirliği</a></li>
<li><a class="" href="yayg%C4%B1n-hatalar.html"><span class="header-section-number">47</span> Yaygın hatalar</a></li>
<li><a class="" href="yard%C4%B1m-alma.html"><span class="header-section-number">48</span> Yardım alma</a></li>
<li><a class="" href="a%C4%9F-s%C3%BCr%C3%BCc%C3%BClerinde-r.html"><span class="header-section-number">49</span> Ağ sürücülerinde R</a></li>
<li><a class="" href="veri-tablosu.html"><span class="header-section-number">50</span> Veri tablosu</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="anket-analizi" class="section level1" number="26">
<h1>
<span class="header-section-number">26</span> Anket analizi<a class="anchor" aria-label="anchor" href="#anket-analizi"><i class="fas fa-link"></i></a>
</h1>
<!-- ======================================================= -->
<div id="genel-bakış-4" class="section level2" number="26.1">
<h2>
<span class="header-section-number">26.1</span> Genel bakış<a class="anchor" aria-label="anchor" href="#genel-bak%C4%B1%C5%9F-4"><i class="fas fa-link"></i></a>
</h2>
<p>Bu sayfa, anket analizi için çeşitli paketlerin kullanımını göstermektedir.</p>
<p>Çoğu anket R paketleri, ağırlıklı analiz yapmak için <a href="https://cran.r-project.org/web/packages/survey/index.html"><strong>survey</strong> paketine</a> güvenir. <strong>survey</strong> paketinin yanı sıra <a href="https://cran.r-project.org/web/packages/srvyr/index.html"><strong>srvyr</strong></a> (tidyverse-stili kodlamaya izin veren bir <strong>survey</strong> sarmalayıcısı) ve <a href="https://cran.r-project.org/web/packages/gtsummary/index.html"><strong>gtsummary</strong></a> (yayına hazır tablolara izin veren bir <strong>survey</strong> sarmalayıcısı) kullanacağız. Orijinal <strong>survey</strong> paketi tidyverse-stili kodlamaya izin vermese de, anket ağırlıklı genelleştirilmiş doğrusal modellere izin verme avantajına sahiptir (bu sayfaya daha sonraki bir tarihte eklenecektir). Örnekleme ağırlıkları oluşturmak için <a href="https://github.com/R4EPI/sitrep"><strong>sitrep paketinden</strong></a> bir fonksiyonu kullanmayı da göstereceğiz (<em>n.b</em> , bu paket şu anda CRAN’da değil, ancak github’dan kurulabilir).</p>
<p>Bu sayfanın çoğu <a href="https://r4epis.netlify.app/">“R4Epis” projesi</a> için yapılan çalışmalara dayanmaktadır; ayrıntılı kod ve R-markdown şablonları için <a href="https://github.com/R4EPI/sitrep">“R4Epis” github sayasına</a> bakabilirsiniz. <strong>survey</strong> paketine ait kodlardan bazıları, <a href="https://github.com/EPIET/RapidAssessmentSurveys">EPIET vaka çalışmalarının</a> ilk sürümlerini temel almaktadır.</p>
<p>Şu anda bu sayfa, örneklem büyüklüğü hesaplamalarını veya örneklemeyi ele almamaktadır. Örnek boyutu hesaplayıcıyı kullanmak için basit bir kullanım için <a href="https://www.openepi.com/Menu/OE_Menu.htm">OpenEpi’ye</a> bakabilirsiniz. El kitabının <a href="https://epirhandbook.com/gis-basics.html">GIS temelleri</a> sayfasında eninde sonunda uzamsal rastgele örnekleme üzerine bir bölüm mevcuttur ve bu sayfa sonunda örnekleme çerçeveleri ve örnek boyutu hesaplamaları hakkında bir bölüme sahip olacaktır.</p>
<ol style="list-style-type: decimal">
<li>Anket verisi</li>
<li>Gözlem süresi</li>
<li>Ağırlıklandırma</li>
<li>Anket tasarım nesneleri</li>
<li>Tanımlayıcı analiz</li>
<li>Ağırlıklı orantılar</li>
<li>Ağırlıklı hızlar</li>
</ol>
<!-- ======================================================= -->
</div>
<div id="hazırlık-17" class="section level2" number="26.2">
<h2>
<span class="header-section-number">26.2</span> Hazırlık<a class="anchor" aria-label="anchor" href="#haz%C4%B1rl%C4%B1k-17"><i class="fas fa-link"></i></a>
</h2>
<div id="paketler-2" class="section level3 unnumbered">
<h3>Paketler<a class="anchor" aria-label="anchor" href="#paketler-2"><i class="fas fa-link"></i></a>
</h3>
<p>Bu kod parçası, analizler için gereken paketlerin yüklenmesini gösterir. Bu el kitabında, gerekirse paketi kuran ve kullanım için yükleyen <strong>pacman</strong> paketinden <code><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load()</a></code> fonksiyonunu kullanacağız. Ayrıca R tabanı’dan <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> ile paketleri yükleyebilirsiniz. R paketleri hakkında daha fazla bilgi için [R temelleri] sayfasına bakabilirsiniz.</p>
<p>Burada ayrıca, github’dan henüz CRAN’da yayınlanmayan bir paketi yüklemek için <strong>pacman</strong> paketinden <code><a href="https://rdrr.io/pkg/pacman/man/p_load_gh.html">p_load_gh()</a></code> fonksiyonunu kullanmayı gösteriyoruz.</p>
<div class="sourceCode" id="cb1237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## paketleri CRAN'dan yükle</span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">rio</span>,          <span class="co"># Dosya içe aktarma</span></span>
<span>               <span class="va">here</span>,         <span class="co"># Dosya bulucu</span></span>
<span>               <span class="va">tidyverse</span>,    <span class="co"># veri yönetimi + ggplot2 grafikleri</span></span>
<span>               <span class="va">tsibble</span>,      <span class="co"># zaman serisi veri kümelerini işleme</span></span>
<span>               <span class="va">survey</span>,       <span class="co"># anket işlevleri için</span></span>
<span>               <span class="va">srvyr</span>,        <span class="co"># anket paketi için dplyr sarmalayıcı</span></span>
<span>               <span class="va">gtsummary</span>,    <span class="co"># tablolar üretmek için anket paketi için sarıcı</span></span>
<span>               <span class="va">apyramid</span>,     <span class="co"># yaş piramitleri oluşturmaya adanmış bir paket</span></span>
<span>               <span class="va">patchwork</span>,    <span class="co"># ggplot'ları birleştirmek için</span></span>
<span>               <span class="va">ggforce</span>       <span class="co"># alüvyon/sankey grafikleri için</span></span>
<span>               <span class="op">)</span> </span>
<span></span>
<span><span class="co">## paketleri github'dan yükle</span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load_gh.html">p_load_gh</a></span><span class="op">(</span></span>
<span>     <span class="st">"R4EPI/sitrep"</span>          <span class="co"># gözlem süresi / ağırlıklandırma fonksiyonları için</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div id="veri-yükleme-1" class="section level3 unnumbered">
<h3>Veri yükleme<a class="anchor" aria-label="anchor" href="#veri-y%C3%BCkleme-1"><i class="fas fa-link"></i></a>
</h3>
<p>Bu bölümde kullanılan örnek veri kümeleri aşağıda listelenmiştir:</p>
<ul>
<li>kurgusal ölüm anketi verileri.</li>
<li>araştırma alanı için kurgusal nüfus sayımları.</li>
<li>kurgusal ölüm anketi verileri için veri sözlüğü.</li>
</ul>
<p>Bu, MSF OCA etik inceleme kurulu tarafından önceden onaylanmış ankete dayanmaktadır. Kurgusal veri seti <a href="https://r4epis.netlify.app/">“R4Epis” projesi</a> kapsamında üretilmiştir. Bunların tümü, <a href="https://opendatakit.org/">Open Data Kit’e</a> dayalı bir veri toplama yazılımı olan <a href="https://www.kobotoolbox.org/">KoboToolbox</a> kullanılarak toplanan verilere dayanmaktadır.</p>
<p>Kobo, hem toplanan verileri hem de bu veri kümesi için veri sözlüğünü dışa aktarmanıza olanak tanır. Veri temizlemeyi basitleştirdiği ve değişkenleri/soruları aramak için kullanışlı olduğu için bunu yapmanızı şiddetle tavsiye etmekteyiz.</p>
<p><span style="color: darkgreen;"><strong><em>İPUCU:</em></strong> Kobo veri sözlüğünün anket sayfasının “name” sütununda değişken adları vardır. Her değişken için olası değerler, seçenekler sayfasında belirtilmiştir. Seçenekler sekmesinde “name” kısaltılmış değere sahiptir ve “label::english” ve “label::french” sütunları gerekli uzun versiyonlara da sahiptir. Bir Kobo sözlük excel dosyasını içe aktarmak için <strong>epidict</strong> paketi <code>msf_dict_survey()</code> fonksiyonunu kullanarak bu adları otomatik olarak yeniden biçimlendirebilirsiniz. Bu sayede kodlarınızı tekrardan kullanma şansınız olur.</span></p>
<p><span style="color: orange;"><strong><em>DİKKAT:</em></strong> Bu örnek veri kümesi dışa aktarılan formatı ile aynı değildir (Kobo’da farklı anket düzeylerini ayrı ayrı dışa aktardığınız gibi) - farklı düzeyleri birleştirmek için aşağıdaki anket verileri bölümüne bakmalısınız.</span></p>
<p>Veri kümesi, <strong>rio</strong> paketinden <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> fonksiyonu kullanılarak içe aktarılır. Verileri içe aktarmanın çeşitli yolları için <a href="https://epirhandbook.com/import-and-export.html">İçe ve dışa aktarma</a> sayfasına bakın.</p>
<div class="sourceCode" id="cb1238"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># anket verilerini içe aktar</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"survey_data.xlsx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sözlüğü R’ın içine aktar</span></span>
<span><span class="va">survey_dict</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"survey_dict.xlsx"</span><span class="op">)</span> </span></code></pre></div>
<p>Anketin ilk 10 satırı aşağıda gösterilmiştir.</p>
<div id="htmlwidget-e1280e4f3c8017b196e3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e1280e4f3c8017b196e3">{"x":{"filter":"none","vertical":false,"data":[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],["2018-04-15T00:00:00Z","2018-03-04T00:00:00Z","2018-04-16T00:00:00Z","2018-01-23T00:00:00Z","2018-01-09T00:00:00Z","2018-03-07T00:00:00Z","2018-02-18T00:00:00Z","2018-04-12T00:00:00Z","2018-04-17T00:00:00Z","2018-01-05T00:00:00Z"],[null,null,null,null,null,null,null,null,null,null],["village_1","village_1","village_10","village_5","village_3","village_8","other","village_7","village_4","village_2"],[null,null,null,null,null,null,null,null,null,null],[1,1,10,5,3,8,11,7,4,2],[9,1,15,6,18,14,17,16,13,14],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],["yes","no","no","yes","no","yes","no","yes","yes","yes"],[null,"no_benefit","neg_experience",null,"other",null,"no_benefit",null,null,null],[null,null,null,null,null,null,null,null,null,null],[6,null,null,8,null,5,null,6,5,5],["female",null,null,"female",null,"male",null,"male","male","female"],[26,null,null,3,null,22,null,33,96,18],[null,null,null,36,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],["no",null,null,"no",null,"yes",null,"yes","yes","yes"],["yes",null,null,null,null,"yes",null,"no","no","no"],["secondary",null,null,null,null,"secondary",null,null,null,null],["no",null,null,"no",null,"yes",null,"no","yes","yes"],[null,null,null,null,null,"yes",null,null,"no","no"],["yes",null,null,null,null,null,null,null,null,"yes"],["no",null,null,"no",null,"yes",null,"yes","no","yes"],["yes",null,null,"no",null,"no",null,"no","yes","yes"],["no",null,null,null,null,null,null,null,"no","no"],[null,null,null,null,null,null,null,null,null,null],["yes",null,null,"no",null,"no",null,"yes","no","no"],["no",null,null,null,null,null,null,"no",null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],["no","no","no","no","no","no","no","no","yes","no"],[null,null,null,null,null,null,null,null,"no",null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,"dont_know",null],[null,null,null,null,null,null,null,null,null,null],["yes",null,null,"yes",null,"no",null,"yes","no","no"],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],["sexual",null,null,"sexual",null,null,null,"shot",null,null],["0",null,null,"0",null,null,null,"0",null,null],["1",null,null,"1",null,null,null,"0",null,null],["0",null,null,"0",null,null,null,"1",null,null],["0",null,null,"0",null,null,null,"0",null,null],["0",null,null,"0",null,null,null,"0",null,null],["0",null,null,"0",null,null,null,"0",null,null],[9,1,183,83,58,146,205,130,72,33],[1,1,1,1,1,1,1,1,1,1],["9_1","1_1","183_1","83_1","58_1","146_1","205_1","130_1","72_1","33_1"]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>start<\/th>\n      <th>end<\/th>\n      <th>today<\/th>\n      <th>deviceid<\/th>\n      <th>date<\/th>\n      <th>team_number<\/th>\n      <th>village_name<\/th>\n      <th>village_other<\/th>\n      <th>cluster_number<\/th>\n      <th>household_number<\/th>\n      <th>households_building<\/th>\n      <th>random_hh<\/th>\n      <th>random_hh_note<\/th>\n      <th>consent<\/th>\n      <th>no_consent_reason<\/th>\n      <th>no_consent_other<\/th>\n      <th>member_number<\/th>\n      <th>sex<\/th>\n      <th>age_years<\/th>\n      <th>age_months_calc<\/th>\n      <th>age_months<\/th>\n      <th>bednet<\/th>\n      <th>read_write<\/th>\n      <th>education_level<\/th>\n      <th>measles_vaccination<\/th>\n      <th>vaccination_card<\/th>\n      <th>pregnant<\/th>\n      <th>malaria_treatment<\/th>\n      <th>arrived<\/th>\n      <th>remember_arrival<\/th>\n      <th>arrived_date<\/th>\n      <th>left<\/th>\n      <th>remember_departure<\/th>\n      <th>left_date<\/th>\n      <th>born<\/th>\n      <th>remember_dob<\/th>\n      <th>birthday_date<\/th>\n      <th>died<\/th>\n      <th>remember_death<\/th>\n      <th>death_date<\/th>\n      <th>cause<\/th>\n      <th>cause_other<\/th>\n      <th>violent_episode<\/th>\n      <th>violent_episodes_number<\/th>\n      <th>violence_nature_other<\/th>\n      <th>violence_nature<\/th>\n      <th>violence_nature/beaten<\/th>\n      <th>violence_nature/sexual<\/th>\n      <th>violence_nature/shot<\/th>\n      <th>violence_nature/detained_kidnapped<\/th>\n      <th>violence_nature/other<\/th>\n      <th>violence_nature/no_response<\/th>\n      <th>index<\/th>\n      <th>index_y<\/th>\n      <th>uid<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[8,9,16,18,19,20,52,53]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>Uygun ağırlıklar üretebilmemiz için örneklem popülasyonundaki verileri de içe aktarmak istiyoruz. Bu veriler farklı formatlarda olabilir, ancak aşağıda görüldüğü gibi olmasını öneririz (bu sadece bir excel’e yazılabilir).</p>
<div class="sourceCode" id="cb1239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># nüfus verilerini içe aktar</span></span>
<span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"population.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>Anketin ilk 10 satırı aşağıda gösterilmiştir.</p>
<div id="htmlwidget-7aef8266cc7672973d78" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7aef8266cc7672973d78">{"x":{"filter":"none","vertical":false,"data":[["0-2","3-14","15-29","30-44","45+","0-2","3-14","15-29","30-44","45+"],["male","male","male","male","male","female","female","female","female","female"],[0.034,0.1811,0.138,0.0808,0.0661,0.034,0.1811,0.138,0.0808,0.0661],[340,1811,1380,808,661,340,1811,1380,808,661],["district_a","district_a","district_a","district_a","district_a","district_a","district_a","district_a","district_a","district_a"]],"container":"<table class=\"white-space: nowrap\">\n  <thead>\n    <tr>\n      <th>age_group<\/th>\n      <th>sex<\/th>\n      <th>proportions<\/th>\n      <th>population<\/th>\n      <th>health_district<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>Küme anketleri için küme düzeyinde anket ağırlıkları eklemek isteyebilirsiniz. Bu verileri yukarıdaki gibi okuyabilirsiniz. Alternatif olarak, yalnızca birkaç sayı varsa, bunlar bir tibble’a aşağıdaki gibi girilebilir. Her durumda, anket verilerinizle eşleşen bir küme tanımlayıcısına sahip bir sütuna ve her bir kümedeki hane sayısını içeren başka bir sütuna ihtiyacınız olacaktır.</p>
<div class="sourceCode" id="cb1240"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## her kümedeki hane sayısını tanımla</span></span>
<span><span class="va">cluster_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>cluster <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"village_1"</span>, <span class="st">"village_2"</span>, <span class="st">"village_3"</span>, <span class="st">"village_4"</span>, </span>
<span>                                     <span class="st">"village_5"</span>, <span class="st">"village_6"</span>, <span class="st">"village_7"</span>, <span class="st">"village_8"</span>,</span>
<span>                                     <span class="st">"village_9"</span>, <span class="st">"village_10"</span><span class="op">)</span>, </span>
<span>                         households <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">700</span>, <span class="fl">400</span>, <span class="fl">600</span>, <span class="fl">500</span>, <span class="fl">300</span>, </span>
<span>                                        <span class="fl">800</span>, <span class="fl">700</span>, <span class="fl">400</span>, <span class="fl">500</span>, <span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="veri-temizleme-1" class="section level3 unnumbered">
<h3>Veri temizleme<a class="anchor" aria-label="anchor" href="#veri-temizleme-1"><i class="fas fa-link"></i></a>
</h3>
<p>Aşağıdaki kodlar, tarih sütununun uygun biçimde olmasını sağlar. Bunu yapmanın başka yolları da vardır (ayrıntılar için <a href="https://epirhandbook.com/working-with-dates.html">Tarihlerle çalışma</a> sayfasına bakın), ancak tarihleri tanımlamak için sözlüğü kullanmak hızlı ve kolaydır.</p>
<p>Ayrıca **epikit* paketindeki <code>age_categories()</code> fonksiyonunu kullanarak bir yaş grubu değişkeni oluşturuyoruz - ayrıntılar için el kitabındaki <a href="https://epirhandbook.com/working-with-dates.html">Verileri temizleme</a> bölümüne bakabilirsiniz. Ek olarak, çeşitli kümelerin hangi bölgede olduğunu tanımlayan bir karakter değişkeni oluşturuyoruz.</p>
<p>Son olarak, tüm evet/hayır değişkenlerini DOĞRU/YANLIŞ değişkenlere yeniden kodlarız - aksi takdirde bunlar <strong>survey</strong> orantı fonksiyonları tarafından kullanılamaz.</p>
<div class="sourceCode" id="cb1241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## sözlükten tarih değişkeni adlarını seç </span></span>
<span><span class="va">DATEVARS</span> <span class="op">&lt;-</span> <span class="va">survey_dict</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"date"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">survey_data</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## filter to match the column names of your data</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="co"># select date vars</span></span>
<span>  </span>
<span><span class="co">## tarihleri değiştir</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html">all_of</a></span><span class="op">(</span><span class="va">DATEVARS</span><span class="op">)</span>, <span class="va">as.Date</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## yıl değişkenine yalnızca ay cinsinden yaşı olanları ekle (on ikiye böl)</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>age_years <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">age_years</span><span class="op">)</span>, </span>
<span>                             <span class="va">age_months</span> <span class="op">/</span> <span class="fl">12</span>, </span>
<span>                             <span class="va">age_years</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## yaş grubu değişkenini tanımla</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>age_group <span class="op">=</span> <span class="fu">age_categories</span><span class="op">(</span><span class="va">age_years</span>, </span>
<span>                                    breakers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">15</span>, <span class="fl">30</span>, <span class="fl">45</span><span class="op">)</span></span>
<span>                                    <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## farklı bir değişkenin gruplarına dayalı bir karakter değişkeni oluştur</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>health_district <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">cluster_number</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">~</span> <span class="st">"district_a"</span>, </span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"district_b"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## sözlükten evet/hayır değişken isimlerini seç</span></span>
<span><span class="va">YNVARS</span> <span class="op">&lt;-</span> <span class="va">survey_dict</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"yn"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">survey_data</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## filter to match the column names of your data</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="co"># select yn vars</span></span>
<span>  </span>
<span><span class="co">## tarihleri değiştir </span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html">all_of</a></span><span class="op">(</span><span class="va">YNVARS</span><span class="op">)</span>, </span>
<span>                <span class="va">str_detect</span>, </span>
<span>                pattern <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<!-- ======================================================= -->
</div>
</div>
<div id="anket-verisi" class="section level2" number="26.3">
<h2>
<span class="header-section-number">26.3</span> Anket verisi<a class="anchor" aria-label="anchor" href="#anket-verisi"><i class="fas fa-link"></i></a>
</h2>
<p>Anketler için kullanılabilecek çok sayıda farklı örnekleme tasarımı vardır. Burada şu kodları göstereceğiz:
- Tabakalı
- Küme
- Tabakalı ve küme</p>
<p>Yukarıda açıklandığı gibi (anketinizi nasıl tasarladığınıza bağlı olarak) her seviye için veriler Kobo’dan ayrı bir veri seti olarak dışa aktarılacaktır. Örneğimizde, haneler için bir düzey ve bu hanelerdeki bireyler için bir düzey vardır.</p>
<p>Bu iki seviye benzersiz bir tanımlayıcı ile birbirine bağlanır. Bir Kobo veri kümesi için bu değişken, bireysel düzeyde “_parent_index” ile eşleşen hane düzeyinde “_index” dir. Bu, eşleşen her bireyle hane için yeni satırlar oluşturacaktır, ayrıntılar için <a href="https://epirhandbook.com/joining-data.html">Verileri ekleme</a> ilgili el kitabı bölümüne bakabilirsiniz.</p>
<div class="sourceCode" id="cb1242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## eksiksiz bir veri seti oluşturmak için bireysel ve hane verilerini birleştir</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">survey_data_hh</span>, </span>
<span>                         <span class="va">survey_data_indiv</span>,</span>
<span>                         by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"_index"</span> <span class="op">=</span> <span class="st">"_parent_index"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## iki düzeyin endekslerini birleştirerek benzersiz bir tanımlayıcı oluştur</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>uid <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_glue.html">str_glue</a></span><span class="op">(</span><span class="st">"{index}_{index_y}"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="gözlem-süresi" class="section level2" number="26.4">
<h2>
<span class="header-section-number">26.4</span> Gözlem süresi<a class="anchor" aria-label="anchor" href="#g%C3%B6zlem-s%C3%BCresi"><i class="fas fa-link"></i></a>
</h2>
<p>Mortalite araştırmaları için, ilgilendiğimiz döneme ait uygun bir ölüm oranını hesaplayabilmek için her bireyin bölgede ne kadar süredir bulunduğunu bilmek istiyoruz. Bu, tüm anketlerde geçerli değildir, ancak özellikle ölüm anketleri için bu önemlidir, çünkü bunlar sık sık hareketli veya göç etmiş nüfuslarda kullanılabilir.</p>
<p>Bunu yapmak için önce, geri çağırma dönemi olarak da bilinen ilgilendiğimiz süreyi tanımlarız (yani, katılımcılardan soruları cevaplarken rapor vermelerinin istendiği süre). Daha sonra bu süreyi, uygun olmayan tarihleri kayıp olarak ayarlamak için kullanabiliriz, örneğin ölümler ilgili dönemin dışından bildirilirse.</p>
<div class="sourceCode" id="cb1243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## geri çağırma süresinin başlangıcını/sonunu ayarla</span></span>
<span><span class="co">## veri setinden tarih değişkenleri olarak değiştirilebilir</span></span>
<span><span class="co">## (örn. başlangıç tarihi &amp; anket tarihi)</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>recall_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2018-01-01"</span><span class="op">)</span>, </span>
<span>         recall_end   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2018-05-01"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># kurallara göre uygunsuz tarihleri NA olarak ayarla</span></span>
<span><span class="co">## örneğin, başlangıçtan önce varışlar, bitişten sonra ayrılışlar</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>           arrived_date <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">arrived_date</span> <span class="op">&lt;</span> <span class="va">recall_start</span>, </span>
<span>                                 <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>                                  <span class="va">arrived_date</span><span class="op">)</span>,</span>
<span>           birthday_date <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">birthday_date</span> <span class="op">&lt;</span> <span class="va">recall_start</span>,</span>
<span>                                  <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>                                  <span class="va">birthday_date</span><span class="op">)</span>,</span>
<span>           left_date <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">left_date</span> <span class="op">&gt;</span> <span class="va">recall_end</span>,</span>
<span>                              <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>                               <span class="va">left_date</span><span class="op">)</span>,</span>
<span>           death_date <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">death_date</span> <span class="op">&gt;</span> <span class="va">recall_end</span>,</span>
<span>                               <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>                               <span class="va">death_date</span><span class="op">)</span></span>
<span>           <span class="op">)</span></span></code></pre></div>
<p>Daha sonra her birey için başlangıç ve bitiş tarihlerini tanımlamak için tarih değişkenlerimizi kullanabiliriz. Tarihlerin nedenlerini belirlemek için <strong>sitrep</strong> paketinden <code>find_start_date()</code> fonksiyonunu kullanabilir ve ardından bunu günler arasındaki farkı (kişi-zaman) hesaplamak için kullanabiliriz.</p>
<p>başlangıç tarihi: Geri çağırma döneminiz içindeki en erken uygun varış olayı Geri çağırma sürenizin başlangıcı (önceden tanımladığınız) veya varsa, geri çağırma başlangıcından sonraki bir tarih (örneğin varışlar veya doğumlar)</p>
<p>bitiş tarihi: Geri çağırma süreniz içindeki en erken uygun ayrılma olayı Geri çağırma sürenizin sonu ya da varsa, geri çağırma süresinin bitiminden önceki bir tarih (örn. ayrılışlar, ölümler)</p>
<div class="sourceCode" id="cb1244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## başlangıç ve bitiş tarihleri/nedenleri için yeni değişkenler oluştur</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>     <span class="co">## ankete girilen en erken tarihi seç</span></span>
<span>     <span class="co">## doğumlardan, hane girişlerinden ve kamp varışlarından</span></span>
<span>     <span class="fu">find_start_date</span><span class="op">(</span><span class="st">"birthday_date"</span>,</span>
<span>                  <span class="st">"arrived_date"</span>,</span>
<span>                  period_start <span class="op">=</span> <span class="st">"recall_start"</span>,</span>
<span>                  period_end   <span class="op">=</span> <span class="st">"recall_end"</span>,</span>
<span>                  datecol      <span class="op">=</span> <span class="st">"startdate"</span>,</span>
<span>                  datereason   <span class="op">=</span> <span class="st">"startcause"</span> </span>
<span>                 <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>     <span class="co">## ankete girilen en erken tarihi seç</span></span>
<span>     <span class="co">## kamptan ayrılma, ölüm ve çalışmanın bitiminden</span></span>
<span>     <span class="fu">find_end_date</span><span class="op">(</span><span class="st">"left_date"</span>,</span>
<span>                <span class="st">"death_date"</span>,</span>
<span>                period_start <span class="op">=</span> <span class="st">"recall_start"</span>,</span>
<span>                period_end   <span class="op">=</span> <span class="st">"recall_end"</span>,</span>
<span>                datecol      <span class="op">=</span> <span class="st">"enddate"</span>,</span>
<span>                datereason   <span class="op">=</span> <span class="st">"endcause"</span> </span>
<span>               <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## başlangıçta/sonda olanları etiketle (doğumlar/ölümler hariç)</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>       <span class="co">##geri çağırma süresinin başlangıcı olarak başlangıç tarihini gir (boş olanlar için)</span></span>
<span>       startdate <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">startdate</span><span class="op">)</span>, <span class="va">recall_start</span>, <span class="va">startdate</span><span class="op">)</span>, </span>
<span>       <span class="co">## geri çağırma periyoduna eşitse, başlangıç nedenini başlangıçta gösterecek şekilde ayarla</span></span>
<span>       <span class="co">## doğum tarihine eşit değilse</span></span>
<span>       startcause <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">startdate</span> <span class="op">==</span> <span class="va">recall_start</span> <span class="op">&amp;</span> <span class="va">startcause</span> <span class="op">!=</span> <span class="st">"birthday_date"</span>,</span>
<span>                              <span class="st">"Present at start"</span>, <span class="va">startcause</span><span class="op">)</span>, </span>
<span>       <span class="co">## geri çağırma süresinin bitimi için bitiş tarihini gir (boş olanlar için)</span></span>
<span>       enddate <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">enddate</span><span class="op">)</span>, <span class="va">recall_end</span>, <span class="va">enddate</span><span class="op">)</span>, </span>
<span>       <span class="co">## son nedeni, geri çağırma sonuna eşitse, sonunda sunacak şekilde ayarla</span></span>
<span>       <span class="co">## ölüm tarihine eşit olmadıkça</span></span>
<span>       endcause <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">enddate</span> <span class="op">==</span> <span class="va">recall_end</span> <span class="op">&amp;</span> <span class="va">endcause</span> <span class="op">!=</span> <span class="st">"death_date"</span>, </span>
<span>                            <span class="st">"Present at end"</span>, <span class="va">endcause</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## Gözlem süresini gün olarak tanımla</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>obstime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">enddate</span> <span class="op">-</span> <span class="va">startdate</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="ağırlıklandırma" class="section level2" number="26.5">
<h2>
<span class="header-section-number">26.5</span> Ağırlıklandırma<a class="anchor" aria-label="anchor" href="#a%C4%9F%C4%B1rl%C4%B1kland%C4%B1rma"><i class="fas fa-link"></i></a>
</h2>
<p>Anket ağırlıkları eklemeden önce hatalı gözlemleri bırakmanız önemlidir. Örneğin, negatif gözlem süresine sahip gözlemleriniz varsa, bunları kontrol etmeniz gerekecektir (bunu <strong>sitrep</strong> paketinden <code>assert_positive_timespan()</code> fonksiyonuyla yapabilirsiniz. Başka bir şey de boş satırlar bırakmak istiyorsanız (örneğin <code>drop_na(uid)</code> ile) veya kopyaları kaldırabilirsiniz (ayrıntılar için El Kitabının <a href="tekille%C5%9Ftirme-1.html#tekille%C5%9Ftirme-2">Tekilleştirme</a> bölümüne bakın). İzinsiz olanların da çıkarılması gerekir.</p>
<p>Bu örnekte, bırakmak ve ayrı bir veri çerçevesinde saklamak istediğimiz durumları filtreliyoruz - bu şekilde anketten hariç tutulanları tanımlayabiliriz. Ardından, bu bırakılan durumları anket verilerimizden çıkarmak için <strong>dplyr</strong> paketinden <code><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join()</a></code> fonksiyonunu kullanırız.</p>
<p><span style="color: red;"><strong><em>TEHLİKE:</em></strong> Ağırlık değişkeninizde veya anket tasarımınızla ilgili herhangi bir değişkende (örneğin yaş, cinsiyet, tabaka veya küme değişkenleri) eksik değerler olamaz.</span></p>
<div class="sourceCode" id="cb1245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## düşürdüğünüz vakaları tanımlayabilmek için sakla (ör.rıza dışı</span></span>
<span><span class="co">## veya yanlış köy/küme)</span></span>
<span><span class="va">dropped</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">consent</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">startdate</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">enddate</span><span class="op">)</span> <span class="op">|</span> <span class="va">village_name</span> <span class="op">==</span> <span class="st">"other"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## kullanılmayan satırları anket veri setinden çıkarmak için bırakılan vakaları kullan </span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html">anti_join</a></span><span class="op">(</span><span class="va">survey_data</span>, <span class="va">dropped</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">dropped</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Yukarıda bahsedildiği gibi, üç farklı çalışma tasarımı (katmanlı, küme ve tabakalı küme) için ağırlıkların nasıl ekleneceğini gösteriyoruz. Bunlar, kaynak popülasyon ve/veya incelenen kümeler hakkında bilgi gerektirir. Bu örnek için tabakalı küme kodunu kullanacağız, ancak çalışma tasarımınız için en uygun olanı kullanın.</p>
<div class="sourceCode" id="cb1246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># tabakalı ------------------------------------------------------------------</span></span>
<span><span class="co"># "surv_weight_strata" adında bir değişken oluştur</span></span>
<span><span class="co"># her birey için ağırlıklar içerir - yaş grubuna, cinsiyete ve sağlık bölgesine göre</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="fu">add_weights_strata</span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey_data</span>,</span>
<span>                                         p <span class="op">=</span> <span class="va">population</span>,</span>
<span>                                         surv_weight <span class="op">=</span> <span class="st">"surv_weight_strata"</span>,</span>
<span>                                         surv_weight_ID <span class="op">=</span> <span class="st">"surv_weight_ID_strata"</span>,</span>
<span>                                         <span class="va">age_group</span>, <span class="va">sex</span>, <span class="va">health_district</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## küme ---------------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># hane başına görüşülen bireylerin kişi sayısını al</span></span>
<span><span class="co"># hane (ebeveyn) indeks değişkeni sayılarına sahip bir değişken ekler</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">add_count</a></span><span class="op">(</span><span class="va">index</span>, name <span class="op">=</span> <span class="st">"interviewed"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## küme ağırlıkları oluştur</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="fu">add_weights_cluster</span><span class="op">(</span>x <span class="op">=</span> <span class="va">survey_data</span>,</span>
<span>                                          cl <span class="op">=</span> <span class="va">cluster_counts</span>,</span>
<span>                                          eligible <span class="op">=</span> <span class="va">member_number</span>,</span>
<span>                                          interviewed <span class="op">=</span> <span class="va">interviewed</span>,</span>
<span>                                          cluster_x <span class="op">=</span> <span class="va">village_name</span>,</span>
<span>                                          cluster_cl <span class="op">=</span> <span class="va">cluster</span>,</span>
<span>                                          household_x <span class="op">=</span> <span class="va">index</span>,</span>
<span>                                          household_cl <span class="op">=</span> <span class="va">households</span>,</span>
<span>                                          surv_weight <span class="op">=</span> <span class="st">"surv_weight_cluster"</span>,</span>
<span>                                          surv_weight_ID <span class="op">=</span> <span class="st">"surv_weight_ID_cluster"</span>,</span>
<span>                                          ignore_cluster <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                                          ignore_household <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># tabakalı ve küme ---------------------------------------------------------</span></span>
<span><span class="co"># küme ve tabalalar için bir anket ağırlığı oluştur</span></span>
<span><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>surv_weight_cluster_strata <span class="op">=</span> <span class="va">surv_weight_strata</span> <span class="op">*</span> <span class="va">surv_weight_cluster</span><span class="op">)</span></span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="anket-tasarım-nesneleri" class="section level2" number="26.6">
<h2>
<span class="header-section-number">26.6</span> Anket tasarım nesneleri<a class="anchor" aria-label="anchor" href="#anket-tasar%C4%B1m-nesneleri"><i class="fas fa-link"></i></a>
</h2>
<p>Çalışma tasarımınıza göre anket nesnesi oluşturun. Ağırlık orantılarını vb. hesaplamak için veri çerçeveleri ile aynı şekilde kullanılır. Bundan önce gerekli tüm değişkenlerin oluşturulduğundan emin olun.</p>
<p>Dört seçenek vardır, kullanmadıklarınızı yorumlayarak kodun dışında bırakın:</p>
<ul>
<li>Basit rastgele</li>
<li>Tabakalı</li>
<li>Küme</li>
<li>Tabakalı küme</li>
</ul>
<p>Bu şablon için - anketleri iki ayrı katmanda (sağlık bölgeleri A ve B) gruplandırdığımızı farz edeceğiz. Bu nedenle, genel tahminler elde etmek için küme ve tabaka ağırlıklarının birleştirilmesine ihtiyacımız var.</p>
<p>Daha önce de belirtildiği gibi, bunu yapmak için iki paket mevcuttur. Klasik olan <strong>survey</strong> paketidir; ve daha sonra düzenli tidyverse dostu nesneler ve işlevler yapan <strong>srvyr</strong> adında bir sarmalayıcı paket vardır. Burada her ikisini de göstereceğiz, ancak bu bölümdeki kodun çoğunun <strong>srvyr</strong> tabanlı nesneleri kullanacağını unutmayın. Tek istisna, <strong>gtsummary</strong> paketinin yalnızca anket nesnelerini kabul etmesidir.</p>
<div id="survey-paketi" class="section level3" number="26.6.1">
<h3>
<span class="header-section-number">26.6.1</span> <strong>Survey</strong> paketi<a class="anchor" aria-label="anchor" href="#survey-paketi"><i class="fas fa-link"></i></a>
</h3>
<p><strong>survey</strong> paketi, R tabanı kodlamasını etkin bir şekilde kullanır ve bu nedenle tüneller (<code>%&gt;%</code>) veya diğer <strong>dplyr</strong> sözdizimini kullanmak mümkün değildir. <strong>survey</strong> paketiyle, uygun kümeler, ağırlıklar ve tabakalarla bir anket nesnesi tanımlamak için <code>svydesign()</code> fonksiyonunu kullanırız.</p>
<p><span style="color: black;"><strong><em>NOT:</em></strong> Değişkenlerin önünde yaklaşık işareti (<code>~</code>) kullanmamız gerekir, bunun nedeni paketin formüllere dayalı değişkenler atamak için R tabanı sözdizimini kullanmasıdır.</span></p>
<div class="sourceCode" id="cb1247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># basit rastgele ---------------------------------------------------------------</span></span>
<span><span class="va">base_survey_design_simple</span> <span class="op">&lt;-</span> <span class="fu">svydesign</span><span class="op">(</span>ids <span class="op">=</span> <span class="op">~</span><span class="fl">1</span>, <span class="co"># küme kimliği yok demek için 1</span></span>
<span>                   weights <span class="op">=</span> <span class="cn">NULL</span>,               <span class="co"># Ağırlık eklenmedi</span></span>
<span>                   strata <span class="op">=</span> <span class="cn">NULL</span>,                <span class="co"># örnekleme basitti (tabaka yok)</span></span>
<span>                   data <span class="op">=</span> <span class="va">survey_data</span>            <span class="co"># veri kümesini belirtmek zorunda</span></span>
<span>                  <span class="op">)</span></span>
<span></span>
<span><span class="co">## tabakalı --------------------------------------------------------------------</span></span>
<span><span class="va">base_survey_design_strata</span> <span class="op">&lt;-</span> <span class="fu">svydesign</span><span class="op">(</span>ids <span class="op">=</span> <span class="op">~</span><span class="fl">1</span>,  <span class="co"># küme kimliği yok demek için 1</span></span>
<span>                   weights <span class="op">=</span> <span class="op">~</span><span class="va">surv_weight_strata</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="op">~</span><span class="va">health_district</span>,     <span class="co"># örnekleme bölgelere göre tabakalandırılmıştır</span></span>
<span>                   data <span class="op">=</span> <span class="va">survey_data</span>             <span class="co"># veri kümesini belirtmek zorunda</span></span>
<span>                  <span class="op">)</span></span>
<span></span>
<span><span class="co"># küme -------------------------------------------------------------------------</span></span>
<span><span class="va">base_survey_design_cluster</span> <span class="op">&lt;-</span> <span class="fu">svydesign</span><span class="op">(</span>ids <span class="op">=</span> <span class="op">~</span><span class="va">village_name</span>, <span class="co"># küme kimlikleri</span></span>
<span>                   weights <span class="op">=</span> <span class="op">~</span><span class="va">surv_weight_cluster</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="cn">NULL</span>,                 <span class="co"># örnekleme basitti (tabaka yok)</span></span>
<span>                   data <span class="op">=</span> <span class="va">survey_data</span>              <span class="co"># veri kümesini belirtmek zorunda</span></span>
<span>                  <span class="op">)</span></span>
<span></span>
<span><span class="co"># tabakalı küme ----------------------------------------------------------------</span></span>
<span><span class="va">base_survey_design</span> <span class="op">&lt;-</span> <span class="fu">svydesign</span><span class="op">(</span>ids <span class="op">=</span> <span class="op">~</span><span class="va">village_name</span>,      <span class="co"># küme kimlikleri</span></span>
<span>                   weights <span class="op">=</span> <span class="op">~</span><span class="va">surv_weight_cluster_strata</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="op">~</span><span class="va">health_district</span>,             <span class="co"># örnekleme bölgelere göre tabakalandırılmıştır</span></span>
<span>                   data <span class="op">=</span> <span class="va">survey_data</span>                     <span class="co"># veri kümesini belirtmek zorunda</span></span>
<span>                  <span class="op">)</span></span></code></pre></div>
</div>
<div id="srvyr-paketi" class="section level3" number="26.6.2">
<h3>
<span class="header-section-number">26.6.2</span> <strong>Srvyr</strong> paketi<a class="anchor" aria-label="anchor" href="#srvyr-paketi"><i class="fas fa-link"></i></a>
</h3>
<p><strong>srvyr</strong> paketiyle, yukarıdakiyle aynı argümanlara sahip olan ancak tünellere (<code>%&gt;%</code>) izin veren <code>as_survey_design()</code> fonksiyonunu kullanabiliriz ve bu nedenle tilde (<code>~</code>) kullanmamız gerekmez.</p>
<div class="sourceCode" id="cb1248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## basit rastgele --------------------------------------------------------------</span></span>
<span><span class="va">survey_design_simple</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">as_survey_design</span><span class="op">(</span>ids <span class="op">=</span> <span class="fl">1</span>, <span class="co"># küme kimliği yok demek için 1</span></span>
<span>                   weights <span class="op">=</span> <span class="cn">NULL</span>, <span class="co"># Ağırlık eklenmedi</span></span>
<span>                   strata <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># örnekleme basitti (tabaka yok)</span></span>
<span>                  <span class="op">)</span></span>
<span><span class="co">## tabakalı --------------------------------------------------------------------</span></span>
<span><span class="va">survey_design_strata</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">as_survey_design</span><span class="op">(</span>ids <span class="op">=</span> <span class="fl">1</span>, <span class="co"># küme kimliği yok demek için 1</span></span>
<span>                   weights <span class="op">=</span> <span class="va">surv_weight_strata</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="va">health_district</span> <span class="co"># örnekleme bölgelere göre tabakalandırılmıştır</span></span>
<span>                  <span class="op">)</span></span>
<span><span class="co">## küme ------------------------------------------------------------------------</span></span>
<span><span class="va">survey_design_cluster</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">as_survey_design</span><span class="op">(</span>ids <span class="op">=</span> <span class="va">village_name</span>, <span class="co"># küme kimlikleri</span></span>
<span>                   weights <span class="op">=</span> <span class="va">surv_weight_cluster</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># örnekleme basitti (tabaka yok)</span></span>
<span>                  <span class="op">)</span></span>
<span></span>
<span><span class="co">## tabakalı küme ---------------------------------------------------------------</span></span>
<span><span class="va">survey_design</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">as_survey_design</span><span class="op">(</span>ids <span class="op">=</span> <span class="va">village_name</span>, <span class="co"># küme kimlikleri</span></span>
<span>                   weights <span class="op">=</span> <span class="va">surv_weight_cluster_strata</span>, <span class="co"># yukarıda oluşturulan ağırlık değişkeni</span></span>
<span>                   strata <span class="op">=</span> <span class="va">health_district</span> <span class="co"># örnekleme bölgelere göre tabakalandırılmıştır</span></span>
<span>                  <span class="op">)</span></span></code></pre></div>
<!-- ======================================================= -->
</div>
</div>
<div id="tanımlayıcı-analiz" class="section level2" number="26.7">
<h2>
<span class="header-section-number">26.7</span> Tanımlayıcı analiz<a class="anchor" aria-label="anchor" href="#tan%C4%B1mlay%C4%B1c%C4%B1-analiz"><i class="fas fa-link"></i></a>
</h2>
<p>Temel tanımlayıcı analiz ve görselleştirme, el kitabının diğer bölümlerinde kapsamlı bir şekilde ele alınmıştır, bu nedenle burada üzerinde durmayacağız. Ayrıntılar için <a href="https://epirhandbook.com/descriptive-tables.html">tanımlayıcı tablolar</a>, <a href="https://epirhandbook.com/simple-statistical-tests.html">istatistiksel testler</a>, <a href="https://epirhandbook.com/tables-for-presentation.html">sunum tabloları</a>, <a href="https://epirhandbook.com/tables-for-presentation.html">ggplot temelleri</a> ve <a href="https://epirhandbook.com/r-markdown-reports.html">R markdown raporları</a> ile ilgili bölümlere bakabilirsiniz.</p>
<p>Bu bölümde, örnekleminizdeki yanlılığı nasıl araştırıp bunu görselleştireceğimize odaklanacağız. Ayrıca alüvyon/sankey diyagramlarını kullanarak bir anket ortamında nüfus akışını görselleştirmeye bakacağız.</p>
<p>Genel olarak, aşağıdaki tanımlayıcı analizleri dahil etmeyi düşünmelisiniz:</p>
<ul>
<li>Dahil edilen kümelerin, hanelerin ve bireylerin nihai sayısı</li>
<li>Dışlanan kişi sayısı ve dışlanma nedenleri</li>
<li>Küme başına medyan (aralık) hane ve hane başına birey sayısı</li>
</ul>
<div id="örnekleme-yanlılığı" class="section level3" number="26.7.1">
<h3>
<span class="header-section-number">26.7.1</span> Örnekleme yanlılığı<a class="anchor" aria-label="anchor" href="#%C3%B6rnekleme-yanl%C4%B1l%C4%B1%C4%9F%C4%B1"><i class="fas fa-link"></i></a>
</h3>
<p>Örnekleminiz ve kaynak popülasyon arasındaki her yaş grubundaki orantıları karşılaştırın. Bu, potansiyel örnekleme yanlılığını vurgulayabilmek için önemlidir. Benzer şekilde, cinsiyete göre dağılımlara bakarak da bunu tekrarlayabilirsiniz.</p>
<p>Bu p değerlerinin yalnızca gösterge niteliğinde olduğunu ve kaynak popülasyona kıyasla çalışma örneğinizdeki dağılımların açıklayıcı bir tartışmasının (veya aşağıdaki yaş piramitleriyle görselleştirmenin) binom testinin kendisinden daha önemli olduğunu unutmayın. Bunun nedeni, örnek boyutunun artmasının, verilerinizi ağırlıklandırdıktan sonra alakasız olabilecek farklılıklara yol açmamasıdır.</p>
<div class="sourceCode" id="cb1249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## çalışma popülasyonunun sayıları ve orantıları</span></span>
<span><span class="va">ag</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">tally</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>proportion <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, </span>
<span>         n_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## kaynak popülasyonun sayıları ve orantıları</span></span>
<span><span class="va">propcount</span> <span class="op">&lt;-</span> <span class="va">population</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">tally</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>proportion <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## iki tablonun sütunlarını birbirine bağla, yaşa göre grupla ve bir</span></span>
<span><span class="co">## n/toplamın popülasyondan önemli ölçüde farklı olup olmadığını görmek için binom testi orantısı.</span></span>
<span>  <span class="co">## buradaki son ek, iki veri kümesinin her birindeki sütunların sonuna metne ekler</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">ag</span>, <span class="va">propcount</span>, by <span class="op">=</span> <span class="st">"age_group"</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"_pop"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co">## broom::tidy(binom.test()) binom testinden bir veri çerçevesi yapar ve</span></span>
<span>  <span class="co">## p.value, parametre, conf.low, conf.high, method ve değişkenlerini ekleyecektir.</span></span>
<span>  <span class="co">## Burada sadece p.value kullanacağız. diğerlerini dahil edebilirsiniz</span></span>
<span>  <span class="co">## güven aralıklarını bildirmek istiyorsanız sütunlar</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>binom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/binom.test.html">binom.test</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">n_total</span>, <span class="va">proportion_pop</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">binom</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># important for expanding the binom.test data frame</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>proportion_pop <span class="op">=</span> <span class="va">proportion_pop</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co">## Yanlış pozitifleri düzeltmek için p-değerlerini ayarla</span></span>
<span>  <span class="co">## (çünkü birden fazla yaş grubunu test ediyor). Bu sadece yapacak</span></span>
<span>  <span class="co">## birçok yaş kategoriniz varsa bir fark verir</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>p.value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/p.adjust.html">p.adjust</a></span><span class="op">(</span><span class="va">p.value</span>, method <span class="op">=</span> <span class="st">"holm"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                      </span>
<span>  <span class="co">## Yalnızca 0,001'in üzerindeki p değerlerini göster (&lt;0,001 olarak rapor edilenler)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>p.value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span>, </span>
<span>                          <span class="st">"&lt;0.001"</span>, </span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">p.value</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  </span>
<span>  <span class="co">## sütunları uygun şekilde yeniden adlandır</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="st">"Age group"</span> <span class="op">=</span> <span class="va">age_group</span>,</span>
<span>    <span class="st">"Study population (n)"</span> <span class="op">=</span> <span class="va">n</span>,</span>
<span>    <span class="st">"Study population (%)"</span> <span class="op">=</span> <span class="va">proportion</span>,</span>
<span>    <span class="st">"Source population (n)"</span> <span class="op">=</span> <span class="va">n_pop</span>,</span>
<span>    <span class="st">"Source population (%)"</span> <span class="op">=</span> <span class="va">proportion_pop</span>,</span>
<span>    <span class="st">"P-value"</span> <span class="op">=</span> <span class="va">p.value</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 6
## # Groups:   Age group [5]
##   `Age group` `Study population (n)` `Study population (%)` `Source population (n)` `Source population (%)` `P-value`
##   &lt;chr&gt;                        &lt;int&gt;                  &lt;dbl&gt;                   &lt;dbl&gt;                   &lt;dbl&gt; &lt;chr&gt;    
## 1 0-2                             12                 0.0256                    1360                     6.8 &lt;0.001   
## 2 3-14                            42                 0.0896                    7244                    36.2 &lt;0.001   
## 3 15-29                           64                 0.136                     5520                    27.6 &lt;0.001   
## 4 30-44                           52                 0.111                     3232                    16.2 0.002    
## 5 45+                            299                 0.638                     2644                    13.2 &lt;0.001</code></pre>
</div>
<div id="demografik-piramitler" class="section level3" number="26.7.2">
<h3>
<span class="header-section-number">26.7.2</span> Demografik piramitler<a class="anchor" aria-label="anchor" href="#demografik-piramitler"><i class="fas fa-link"></i></a>
</h3>
<p>Demografik (veya yaş-cinsiyet) piramitler, anket popülasyonunuzdaki dağılımı görselleştirmenin kolay bir yoludur. Anket tabaklarına göre yaş ve cinsiyet için <a href="https://epirhandbook.com/descriptive-tables.html">tanımlayıcı tabloları</a> oluşturmayı da düşünmeye değer. Yukarıda oluşturulan anket tasarım nesnemizi kullanarak ağırlıklı orantılara izin verdiği için <strong>apyramid</strong> paketini kullanmayı göstereceğiz. <a href="https://epirhandbook.com/demographic-pyramids-and-likert-scales.html">Demografik piramitler</a> oluşturmaya yönelik diğer seçenekler, el kitabının bu bölümünde kapsamlı bir şekilde ele alınmıştır. Ayrıca, orantıları olan bir grafik üretmek için birkaç satır kodlama kaydeden, <code>age_pyramid()</code> adlı <strong>sitrep</strong> paketinden bir sarmalayıcı işlevi kullanacağız.</p>
<p>Yukarıda örnekleme yanlılığı bölümünde görülen resmi binom farklılık testinde olduğu gibi, burada örneklenen popülasyonumuzun kaynak popülasyondan önemli ölçüde farklı olup olmadığını ve ağırlıklandırmanın bu farkı düzeltip düzeltmediğini görselleştirmekle ilgileniyoruz. Bunu yapmak için <strong>ggplot</strong> görselleştirmelerimizi yan yana göstermek için <strong>patchwork</strong> paketini kullanacağız; ayrıntılar için el kitabının <a href="https://epirhandbook.com/ggplot-tips.html?q=patch#combine-plots">ggplot ipuçları</a> bölümündeki grafikleri birleştirme bölümüne bakın. Kaynak popülasyonumuzu, ağırlıksız anket popülasyonumuzu ve ağırlıklı anket popülasyonumuzu görselleştireceğiz. Anketinizin her katmanına göre görselleştirmeyi de düşünebilirsiniz - buradaki örneğimizde bu, <code>stack_by = "health_district"</code> argümanını kullanmak olacaktır (ayrıntılar için <code>?age_pyramid</code> komutuna bknz.).</p>
<p><span style="color: black;"><strong><em>NOT:</em></strong> x ve y eksenleri piramitlerde çevrilir.</span></p>
<div class="sourceCode" id="cb1251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## x ekseni sınırlarını ve etiketlerini tanımlayın -----------------------------</span></span>
<span><span class="co">## (bu sayıları grafiğinizin değerleri olacak şekilde güncelle)</span></span>
<span><span class="va">max_prop</span> <span class="op">&lt;-</span> <span class="fl">35</span>      <span class="co"># göstermek istediğiniz en yüksek orantıyı seç</span></span>
<span><span class="va">step</span> <span class="op">&lt;-</span> <span class="fl">5</span>           <span class="co"># etiketler arasında istediğiniz boşluğu seç</span></span>
<span></span>
<span><span class="co">## bu kısım, vektörü yukarıdaki sayıları kullanarak eksen sonları ile tanımlar.</span></span>
<span><span class="va">breaks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">max_prop</span><span class="op">/</span><span class="fl">100</span> <span class="op">*</span> <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span> <span class="op">-</span> <span class="va">step</span><span class="op">/</span><span class="fl">100</span>, <span class="va">step</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span>, </span>
<span>    <span class="fl">0</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span> <span class="op">+</span> <span class="va">step</span> <span class="op">/</span> <span class="fl">100</span>, <span class="va">max_prop</span><span class="op">/</span><span class="fl">100</span>, <span class="va">step</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co">## bu kısım vektörü yukarıdaki sayıları kullanarak eksen limitleri ile tanımlar.</span></span>
<span><span class="va">limits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">max_prop</span><span class="op">/</span><span class="fl">100</span> <span class="op">*</span> <span class="op">-</span><span class="fl">1</span>, <span class="va">max_prop</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## bu kısım, vektörü, eksen etiketleriyle birlikte yukarıdaki sayıları kullanarak tanımlar.</span></span>
<span><span class="va">labels</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">max_prop</span>, <span class="va">step</span>, <span class="op">-</span><span class="va">step</span><span class="op">)</span>, </span>
<span>      <span class="fl">0</span>, </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">step</span>, <span class="va">max_prop</span>, <span class="va">step</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## ayrı ayrı grafikler oluştur  ------------------------------------------------</span></span>
<span></span>
<span><span class="co">## kaynak popülasyonu grafiklendir </span></span>
<span><span class="co">## not: bunun genel nüfus için daraltılması gerekiyor (yani sağlık bölgelerinin kaldırılması)</span></span>
<span><span class="va">source_population</span> <span class="op">&lt;-</span> <span class="va">population</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co">## yaş ve cinsiyetin faktörler olduğundan emin ol</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>age_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">age_group</span>, </span>
<span>                            levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0-2"</span>, </span>
<span>                                       <span class="st">"3-14"</span>, </span>
<span>                                       <span class="st">"15-29"</span>,</span>
<span>                                       <span class="st">"30-44"</span>, </span>
<span>                                       <span class="st">"45+"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>         sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">age_group</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## birlikte her sağlık bölgesi için sayıları ekle</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## genel orantıyı hesaplayabilmek için gruplandırmayı kaldır</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>proportion <span class="op">=</span> <span class="va">population</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## piramid grafiği</span></span>
<span>  <span class="fu">age_pyramid</span><span class="op">(</span></span>
<span>            age_group <span class="op">=</span> <span class="va">age_group</span>, </span>
<span>            split_by <span class="op">=</span> <span class="va">sex</span>, </span>
<span>            count <span class="op">=</span> <span class="va">proportion</span>, </span>
<span>            proportional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## sadece y ekseni etiketini göster (aksi takdirde her üç çizimde de tekrarlanır)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Source population"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">""</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Age group (years)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co">## x eksenini tüm grafikler için aynı yap</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="va">breaks</span>, </span>
<span>    limits <span class="op">=</span> <span class="va">limits</span>, </span>
<span>    labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span><span class="co">## ağırlıksız örnek popülasyonunu grafiklendir</span></span>
<span><span class="va">sample_population</span> <span class="op">&lt;-</span> <span class="fu">age_pyramid</span><span class="op">(</span><span class="va">survey_data</span>, </span>
<span>                 age_group <span class="op">=</span> <span class="st">"age_group"</span>, </span>
<span>                 split_by <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>                 proportion <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co">## sadece x ekseni etiketini göster (aksi takdirde her üç grafikte de tekrarlanır)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Unweighted sample population"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">"Proportion (%)"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co">## x eksenini tüm grafikler için aynı yap</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="va">breaks</span>, </span>
<span>    limits <span class="op">=</span> <span class="va">limits</span>, </span>
<span>    labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## ağırlıklı örnek popülasyonunu grafiklendir </span></span>
<span><span class="va">weighted_population</span> <span class="op">&lt;-</span> <span class="va">survey_design</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## değişkenlerin faktör olduğundan emin ol</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>age_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span>, </span>
<span>         sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">age_pyramid</span><span class="op">(</span></span>
<span>    age_group <span class="op">=</span> <span class="st">"age_group"</span>,</span>
<span>    split_by <span class="op">=</span> <span class="st">"sex"</span>, </span>
<span>    proportion <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## sadece x ekseni etiketini göster (aksi takdirde her üç grafikte de tekrarlanır)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Weighted sample population"</span>, </span>
<span>       y <span class="op">=</span> <span class="st">""</span>, </span>
<span>       x <span class="op">=</span> <span class="st">""</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="co">## x eksenini tüm grafikler için aynı yap</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="va">breaks</span>, </span>
<span>    limits <span class="op">=</span> <span class="va">limits</span>, </span>
<span>    labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## üç grafiğin tümünü birleştir ------------------------------------------------</span></span>
<span><span class="co">## + kullanarak üç grafiği yan yana birleştir</span></span>
<span><span class="va">source_population</span> <span class="op">+</span> <span class="va">sample_population</span> <span class="op">+</span> <span class="va">weighted_population</span> <span class="op">+</span> </span>
<span>  <span class="co">## sadece bir legand göster ve temayı tanımla </span></span>
<span>  <span class="co">## temayı plot_layout() ile birleştirmek için &amp; kullanımına dikkat et</span></span>
<span>  <span class="fu">plot_layout</span><span class="op">(</span>guides <span class="op">=</span> <span class="st">"collect"</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>,                    <span class="co"># açıklamayı aşağıya taşı</span></span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,                <span class="co"># başlığı kaldır</span></span>
<span>        text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span>,                <span class="co"># metin boyutunu değiştir</span></span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span>, vjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># x ekseni metnini çevir</span></span>
<span>       <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/weighted_age_pyramid-1.png" width="1440"></div>
</div>
<div id="alluvialsankey-diagramı" class="section level3" number="26.7.3">
<h3>
<span class="header-section-number">26.7.3</span> Alluvial/sankey diagramı<a class="anchor" aria-label="anchor" href="#alluvialsankey-diagram%C4%B1"><i class="fas fa-link"></i></a>
</h3>
<p>Bireyler için başlangıç noktalarını ve sonuçları görselleştirmek, genel bir bakış elde etmek için çok yardımcı olabilir. Mobil popülasyonlar için oldukça açık bir uygulama var, ancak kohortlar veya bireyler için durumlarda geçişlerin olduğu diğer durumlar gibi çok sayıda başka uygulama var. Bu diyagramların alüvyon, sankey ve paralel kümeler dahil olmak üzere birkaç farklı adı vardır - ayrıntılar el kitabının <a href="https://epirhandbook.com/diagrams-and-charts.html#alluvialsankey-diagrams">Diyagramlar ve çizelgeler</a> bölümündedir.</p>
<div class="sourceCode" id="cb1252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## verileri özetle</span></span>
<span><span class="va">flow_table</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">startcause</span>, <span class="va">endcause</span>, <span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="co"># sayımları al </span></span>
<span>  <span class="fu">gather_set_data</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"startcause"</span>, <span class="st">"endcause"</span><span class="op">)</span><span class="op">)</span>     <span class="co"># grafiklendirme için formatı değiştir</span></span>
<span></span>
<span></span>
<span><span class="co">## veri kümesini çiz </span></span>
<span>  <span class="co">## x ekseninde başlangıç ve bitiş nedenleri</span></span>
<span>  <span class="co">## gather_set_data, her olası kombinasyon için bir kimlik oluşturur</span></span>
<span>  <span class="co">## y ile bölme, olası başlangıç/bitiş kombinasyonlarını verir</span></span>
<span>  <span class="co">## n'nin sayı olarak verdiği değer (orantı olarak da değiştirilebilir)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">flow_table</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">x</span>, id <span class="op">=</span> <span class="va">id</span>, split <span class="op">=</span> <span class="va">y</span>, value <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## cinsiyete göre renk çizgileri</span></span>
<span>  <span class="fu">geom_parallel_sets</span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">sex</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>, axis.width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## etiket kutularını gri doldur</span></span>
<span>  <span class="fu">geom_parallel_sets_axes</span><span class="op">(</span>axis.width <span class="op">=</span> <span class="fl">0.15</span>, fill <span class="op">=</span> <span class="st">"grey80"</span>, color <span class="op">=</span> <span class="st">"grey80"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## metin rengini ve açısını değiştir (ayarlanması gerekiyor)</span></span>
<span>  <span class="fu">geom_parallel_sets_labels</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, angle <span class="op">=</span> <span class="fl">0</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">## ayarlanmış y ve x eksenleri (muhtemelen daha fazla dikey alana ihtiyaç duyar)</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co">## eksen etiketlerini kaldır</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">26</span><span class="op">)</span>,</span>
<span>    axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span>,                    <span class="co"># açıklamayı aşağıya taşı</span></span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,                <span class="co"># başlığı kaldır</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/visualise_population_flow-1.png" width="672"></div>
<!-- ======================================================= -->
</div>
</div>
<div id="ağırlıklı-orantılar" class="section level2" number="26.8">
<h2>
<span class="header-section-number">26.8</span> Ağırlıklı orantılar<a class="anchor" aria-label="anchor" href="#a%C4%9F%C4%B1rl%C4%B1kl%C4%B1-orant%C4%B1lar"><i class="fas fa-link"></i></a>
</h2>
<p>Bu bölüm, ilişkili güven aralıkları ve tasarım etkisi ile birlikte ağırlıklı sayımlar ve oranlar için tabloların nasıl üretileceğini detaylandıracaktır. Aşağıdaki paketlerdeki işlevleri kullanan dört farklı seçenek vardır: <strong>survey</strong>, <strong>srvyr</strong>, <strong>sitrep</strong> ve <strong>gtsummary</strong>. Standart bir epidemiyoloji stili tablosu oluşturmak üzere minimum kodlama için, <strong>srvyr</strong> kodunun sarmalayıcısı olan <strong>sitrep</strong> fonksiyonunu öneriyoruz; Ancak bunun henüz CRAN’da olmadığını ve gelecekte değişebileceğini unutmayın. Aksi takdirde, <strong>survey</strong> kodu muhtemelen en istikrarlı ve uzun vadeli paket olacaktır, oysa <strong>srvyr</strong> paketi en iyi şekilde derli toplu iş akışlarına uymaktadır. <strong>gtsummary</strong> fonksiyonları çok fazla potansiyele sahip olsa da, bu kitap yazıldığı sırada deneysel ve eksiktirler.</p>
<div id="survey-paketi-1" class="section level3" number="26.8.1">
<h3>
<span class="header-section-number">26.8.1</span> <strong>Survey</strong> paketi<a class="anchor" aria-label="anchor" href="#survey-paketi-1"><i class="fas fa-link"></i></a>
</h3>
<p>Ağırlıklı orantılar ve beraberindeki %95 güven aralıklarını elde etmek için <strong>survey</strong> paketinden <code>svyciprop()</code> fonksiyonunu kullanabiliriz. Uygun bir tasarım efekti, <code>svyprop()</code> fonksiyonu yerine <code>svymean()</code> kullanılarak da çıkarılabilir. <code>svyprop()</code> fonksiyonunun yalnızca 0 ile 1 (veya DOĞRU/YANLIŞ) arasındaki değişkenleri kabul ediyor gibi göründüğünü, dolayısıyla kategorik değişkenlerin çalışmayacağını belirtmekte fayda var.</p>
<p><span style="color: black;"><strong><em>NOT:</em></strong> <strong>survey</strong> paketinden gelen foksiyonlar ayrıca <strong>srvyr</strong> tasarım nesnelerini de kabul etmektedir, ancak burada anket <strong>survey</strong> nesnesini yalnızca tutarlılık için kullandık. </span></p>
<div class="sourceCode" id="cb1253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## ağırlıklı sayılar üretme</span></span>
<span><span class="fu">svytable</span><span class="op">(</span><span class="op">~</span><span class="va">died</span>, <span class="va">base_survey_design</span><span class="op">)</span></span></code></pre></div>
<pre><code>## died
##      FALSE       TRUE 
## 1406244.43   76213.01</code></pre>
<div class="sourceCode" id="cb1255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## ağırlıklı orantılar üretme</span></span>
<span><span class="fu">svyciprop</span><span class="op">(</span><span class="op">~</span><span class="va">died</span>, <span class="va">base_survey_design</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>##               2.5% 97.5%
## died 0.0514 0.0208  0.12</code></pre>
<div class="sourceCode" id="cb1257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## tasarım efektini al</span></span>
<span><span class="fu">svymean</span><span class="op">(</span><span class="op">~</span><span class="va">died</span>, <span class="va">base_survey_design</span>, na.rm <span class="op">=</span> <span class="cn">T</span>, deff <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">deff</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## diedFALSE  diedTRUE 
##  3.755508  3.755508</code></pre>
<p>Yukarıda gösterilen <strong>survey</strong> fonksiyonları, aşağıda kendimizi tanımladığımız, <code>svy_prop</code> adlı bir fonksiyonda birleştirebiliriz; ve daha sonra bu fonksiyonu <strong>purrr</strong> paketindeki <code><a href="https://purrr.tidyverse.org/reference/map.html">map()</a></code> ile birlikte birkaç değişken üzerinde <a href="https://epirhandbook.com/iteration-loops-and-lists.html">yineleme</a> yapmak ve bir tablo oluşturmak için kullanabiliriz. <strong>purrr</strong> hakkında ayrıntılar için el kitabı yineleme bölümüne bakabilirsiniz.</p>
<div class="sourceCode" id="cb1259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ağırlıklı sayıları, oranlatıları, CI ve tasarım etkisini hesaplamak için fonksiyonu tanımla</span></span>
<span><span class="co"># x tırnak içindeki değişkendir </span></span>
<span><span class="co"># tasarım, sizin anket tasarım nesnenizdir</span></span>
<span></span>
<span><span class="va">svy_prop</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">design</span>, <span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co">## ilgilenilen değişkeni bir formüle koy</span></span>
<span>  <span class="va">form</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html">as.formula</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span> <span class="st">"~"</span> , <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co">## svytable'dan yalnızca DOĞRU sayım sütununu sakla</span></span>
<span>  <span class="va">weighted_counts</span> <span class="op">&lt;-</span> <span class="fu">svytable</span><span class="op">(</span><span class="va">form</span>, <span class="va">design</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="co">## orantıları hesapla (yüzdeleri almak için 100 ile çarpın)</span></span>
<span>  <span class="va">weighted_props</span> <span class="op">&lt;-</span> <span class="fu">svyciprop</span><span class="op">(</span><span class="va">form</span>, <span class="va">design</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="co">## güven aralıklarını çıkarın ve yüzdeleri elde etmek için çarp</span></span>
<span>  <span class="va">weighted_confint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html">confint</a></span><span class="op">(</span><span class="va">weighted_props</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="co">## tasarım etkisini hesaplamak için svymean kullanın ve yalnızca DOĞRU sütununu koru</span></span>
<span>  <span class="va">design_eff</span> <span class="op">&lt;-</span> <span class="fu">deff</span><span class="op">(</span><span class="fu">svymean</span><span class="op">(</span><span class="va">form</span>, <span class="va">design</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, deff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="cn">TRUE</span><span class="op">]</span><span class="op">]</span></span>
<span>  </span>
<span>  <span class="co">## tek bir veri çerçevesinde birleştir</span></span>
<span>  <span class="va">full_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span></span>
<span>    <span class="st">"Variable"</span>        <span class="op">=</span> <span class="va">x</span>,</span>
<span>    <span class="st">"Count"</span>           <span class="op">=</span> <span class="va">weighted_counts</span>,</span>
<span>    <span class="st">"Proportion"</span>      <span class="op">=</span> <span class="va">weighted_props</span>,</span>
<span>    <span class="va">weighted_confint</span>, </span>
<span>    <span class="st">"Design effect"</span>   <span class="op">=</span> <span class="va">design_eff</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## tabloyu veri çerçevesi olarak döndür</span></span>
<span>  <span class="va">full_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">full_table</span>, </span>
<span>             <span class="co">## remove the variable names from rows (is a separate column now)</span></span>
<span>             row.names <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## sayısalları tekrar sayısal olarak değiştir</span></span>
<span>  <span class="va">full_table</span><span class="op">[</span> , <span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">full_table</span><span class="op">[</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## veri çerçevesini döndür</span></span>
<span>  <span class="va">full_table</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">## bir tablo oluşturmak için birkaç değişken üzerinde yineleme yap</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span></span>
<span>  <span class="co">## ilgilenilen değişkenleri tanımla</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"died"</span>, <span class="st">"arrived"</span><span class="op">)</span>, </span>
<span>  <span class="co">## durum fonksiyonu kullanımı ve bu fonksiyon için argümanlar (tasarım)</span></span>
<span>  <span class="va">svy_prop</span>, design <span class="op">=</span> <span class="va">base_survey_design</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## listeyi tek bir veri çerçevesine daralt</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## yuvarla</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, <span class="va">round</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   Variable    Count Proportion X2.5. X97.5. Design.effect
## 1     left 701199.1       47.3  39.2   55.5           2.4
## 2     died  76213.0        5.1   2.1   12.1           3.8
## 3  arrived 761799.0       51.4  40.9   61.7           3.9</code></pre>
</div>
<div id="srvyr-paketi-1" class="section level3" number="26.8.2">
<h3>
<span class="header-section-number">26.8.2</span> <strong>Srvyr</strong> paketi<a class="anchor" aria-label="anchor" href="#srvyr-paketi-1"><i class="fas fa-link"></i></a>
</h3>
<p><strong>srvyr</strong> ile bir tablo oluşturmak için <strong>dplyr</strong> sözdizimini kullanabiliriz. <code>survey_mean()</code> fonksiyonunun kullanıldığını ve orantı argümanının belirtildiğini ve ayrıca tasarım etkisini hesaplamak için aynı fonksiyonu kullanıldığını unutmayın. Bunun nedeni, <strong>srvyr</strong> paketinin yukarıdaki bölümde kullanılan <code>svyciprop()</code> ve <code>svymean()</code> <strong>survey</strong> paketi fonksiyonun her ikisinin de etrafını sarmasıdır.</p>
<p><span style="color: black;"><strong><em>NOT:</em></strong> Kategorik değişkenlerden orantıları <strong>srvyr</strong> paketini kullanarak da almak pek mümkün görünmüyor, buna ihtiyacınız varsa <strong>sitrep</strong> paketini kullanmanız gerekir. Detaylar için aşağıdaki bölüme göz atın.</span></p>
<div class="sourceCode" id="cb1261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## srvyr tasarım nesnesini kullan</span></span>
<span><span class="va">survey_design</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    <span class="co">## ağırlıklı sayıları üret</span></span>
<span>    counts <span class="op">=</span> <span class="fu">survey_total</span><span class="op">(</span><span class="va">died</span><span class="op">)</span>, </span>
<span>    <span class="co">## ağırlıklı orantıları ve güven aralıkları üret</span></span>
<span>    <span class="co">## yüzde almak için 100 ile çarp</span></span>
<span>    props <span class="op">=</span> <span class="fu">survey_mean</span><span class="op">(</span><span class="va">died</span>, </span>
<span>                        proportion <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                        vartype <span class="op">=</span> <span class="st">"ci"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, </span>
<span>    <span class="co">## tasarım efekti üret</span></span>
<span>    deff <span class="op">=</span> <span class="fu">survey_mean</span><span class="op">(</span><span class="va">died</span>, deff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## sadece ilgi alanlarını tut</span></span>
<span>  <span class="co">## (standart hataları bırakın ve orantı hesaplamasını tekrarla)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">counts</span>, <span class="va">props</span>, <span class="va">props_low</span>, <span class="va">props_upp</span>, <span class="va">deff_deff</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 5
##   counts props props_low props_upp deff_deff
##    &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 76213.  5.14      2.08      12.1      3.76</code></pre>
<p>Burada da <strong>purrr</strong> paketini kullanarak birden çok değişken üzerinde <a href="https://epirhandbook.com/iteration-loops-and-lists.html">yineleme</a> yapacak bir fonksiyon yazabiliriz. <strong>purrr</strong> hakkında ayrıntılar için el kitabı yineleme bölümüne bakabilirsiniz.</p>
<div class="sourceCode" id="cb1263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ağırlıklı sayıları, orantıları, CI ve tasarım etkisini hesaplamak için işlevi tanımla</span></span>
<span><span class="co"># tasarım, sizin anket tasarım nesnenizdir</span></span>
<span><span class="co"># x tırnak içindeki değişkendir</span></span>
<span></span>
<span></span>
<span><span class="va">srvyr_prop</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">design</span>, <span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    <span class="co">## anket tasarım nesnesini kullan</span></span>
<span>    <span class="va">design</span>, </span>
<span>    <span class="co">## ağırlıklı sayıları üret</span></span>
<span>    counts <span class="op">=</span> <span class="fu">survey_total</span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, </span>
<span>    <span class="co">## ağırlıklı orantıları ve güven aralıkları üret</span></span>
<span>    <span class="co">## yüzde almak için 100 ile çarp</span></span>
<span>    props <span class="op">=</span> <span class="fu">survey_mean</span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>, </span>
<span>                        proportion <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                        vartype <span class="op">=</span> <span class="st">"ci"</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, </span>
<span>    <span class="co">## tasarım efekti üret</span></span>
<span>    deff <span class="op">=</span> <span class="fu">survey_mean</span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>, deff <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## değişken adını ekle</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="va">x</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## sadece ilgi alanlarını tut</span></span>
<span>  <span class="co">## (standart hataları bırak ve orantı hesaplamasını tekrarla)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">counts</span>, <span class="va">props</span>, <span class="va">props_low</span>, <span class="va">props_upp</span>, <span class="va">deff_deff</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span>  </span>
<span></span>
<span><span class="co">## bir tablo oluşturmak için birkaç değişken üzerinde yineleme yap</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span></span>
<span>  <span class="co">## ilgilenilen değişkenleri tanımla</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"died"</span>, <span class="st">"arrived"</span><span class="op">)</span>, </span>
<span>  <span class="co">## durum fonksiyonu kullanımı ve bu fonksiyon için argümanlar (tasarım)</span></span>
<span>  <span class="op">~</span><span class="fu">srvyr_prop</span><span class="op">(</span><span class="va">.x</span>, design <span class="op">=</span> <span class="va">survey_design</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## listeyi tek bir veri çerçevesine daralt</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 6
##   variable  counts props props_low props_upp deff_deff
##   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 left     701199. 47.3      39.2       55.5      2.38
## 2 died      76213.  5.14      2.08      12.1      3.76
## 3 arrived  761799. 51.4      40.9       61.7      3.93</code></pre>
</div>
<div id="sitrep-paketi" class="section level3" number="26.8.3">
<h3>
<span class="header-section-number">26.8.3</span> <strong>Sitrep</strong> paketi<a class="anchor" aria-label="anchor" href="#sitrep-paketi"><i class="fas fa-link"></i></a>
</h3>
<p><strong>sitrep</strong> paketinin <code>tab_survey()</code> fonksiyonu, minimum kodlama ile ağırlıklı tablolar oluşturmanıza olanak tanıyan <strong>srvyr</strong> paketi için bir sarmalayıcıdır. Ayrıca kategorik değişkenler için ağırlıklı orantıları hesaplamanıza olanak tanır.</p>
<div class="sourceCode" id="cb1265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## anket tasarım nesnesini kullan</span></span>
<span><span class="va">survey_design</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## ilgilenilen değişkenlerin isimlerini alıntı yapılmadan ilet</span></span>
<span>  <span class="fu">tab_survey</span><span class="op">(</span><span class="va">arrived</span>, <span class="va">left</span>, <span class="va">died</span>, <span class="va">education_level</span>,</span>
<span>             deff <span class="op">=</span> <span class="cn">TRUE</span>,   <span class="co"># tasarım etkisini hesapla</span></span>
<span>             pretty <span class="op">=</span> <span class="cn">TRUE</span>  <span class="co"># oranı ve %95 CI'yi birleştir</span></span>
<span>             <span class="op">)</span></span></code></pre></div>
<pre><code>## Warning: removing 257 missing value(s) from `education_level`</code></pre>
<pre><code>## # A tibble: 9 × 5
##   variable        value            n  deff ci                
##   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;             
## 1 arrived         TRUE       761799.  3.93 51.4% (40.9--61.7)
## 2 arrived         FALSE      720658.  3.93 48.6% (38.3--59.1)
## 3 left            TRUE       701199.  2.38 47.3% (39.2--55.5)
## 4 left            FALSE      781258.  2.38 52.7% (44.5--60.8)
## 5 died            TRUE        76213.  3.76 5.1% (2.1--12.1)  
## 6 died            FALSE     1406244.  3.76 94.9% (87.9--97.9)
## 7 education_level higher     171644.  4.70 42.4% (26.9--59.7)
## 8 education_level primary    102609.  2.37 25.4% (16.2--37.3)
## 9 education_level secondary  130201.  6.68 32.2% (16.5--53.3)</code></pre>
</div>
<div id="gtsummary-paketi" class="section level3" number="26.8.4">
<h3>
<span class="header-section-number">26.8.4</span> <strong>Gtsummary</strong> paketi<a class="anchor" aria-label="anchor" href="#gtsummary-paketi"><i class="fas fa-link"></i></a>
</h3>
<p><strong>gtsummary</strong> paketinde henüz güven aralıklarını veya tasarım efektini eklemek için yerleşik fonksiyonlar yok gibi görünüyor. Burada, güven aralıkları eklemek için bir fonksiyonun nasıl tanımlanacağını ve ardından <code>tbl_svysummary()</code> fonksiyonunu kullanılarak oluşturulan bir <strong>gtsummary</strong> tablosuna güven aralıklarının nasıl ekleneceğini gösteriyoruz.</p>
<div class="sourceCode" id="cb1268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confidence_intervals</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">variable</span>, <span class="va">by</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co">## güven aralıklarını çıkarın ve yüzdeleri elde etmek için çarp</span></span>
<span>  <span class="va">props</span> <span class="op">&lt;-</span> <span class="fu">svyciprop</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/formula.html">as.formula</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span> <span class="st">"~"</span> , <span class="va">variable</span><span class="op">)</span><span class="op">)</span>,</span>
<span>              <span class="va">data</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co">## güven aralıklarını çıkar</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html">confint</a></span><span class="op">(</span><span class="va">props</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co">## sayısal yap ve yüzde için çarp</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">.</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>           <span class="co">## bir haneye yuvarla</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>                           <span class="co">## sayıları matristen çıkar</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">.</span>, collapse <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span>          <span class="co">## tek karakterle birleştir</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">## anket paketi tasarım nesnesini kullan</span></span>
<span><span class="fu">tbl_svysummary</span><span class="op">(</span><span class="va">base_survey_design</span>, </span>
<span>               include <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">arrived</span>, <span class="va">left</span>, <span class="va">died</span><span class="op">)</span>,   <span class="co">## dahil etmek istediğiniz değişkenleri tanımla</span></span>
<span>               statistic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"{n} ({p}%)"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co">## ilgi istatistiklerini tanımla</span></span>
<span>  <span class="fu">add_n</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="co">## add the weighted total </span></span>
<span>  <span class="fu">add_stat</span><span class="op">(</span>fns <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="va">confidence_intervals</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co">## güven aralığını ekle</span></span>
<span>  <span class="co">## sütun başlıklarını değiştir</span></span>
<span>  <span class="fu">modify_header</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="va">n</span> <span class="op">~</span> <span class="st">"**Weighted total (N)**"</span>,</span>
<span>      <span class="va">stat_0</span> <span class="op">~</span> <span class="st">"**Weighted Count**"</span>,</span>
<span>      <span class="va">add_stat_1</span> <span class="op">~</span> <span class="st">"**95%CI**"</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<div id="famjljebsa" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#famjljebsa .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#famjljebsa .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#famjljebsa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#famjljebsa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#famjljebsa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#famjljebsa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#famjljebsa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#famjljebsa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#famjljebsa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#famjljebsa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#famjljebsa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#famjljebsa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#famjljebsa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#famjljebsa .gt_from_md > :first-child {
  margin-top: 0;
}

#famjljebsa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#famjljebsa .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#famjljebsa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#famjljebsa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#famjljebsa .gt_row_group_first td {
  border-top-width: 2px;
}

#famjljebsa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#famjljebsa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#famjljebsa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#famjljebsa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#famjljebsa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#famjljebsa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#famjljebsa .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#famjljebsa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#famjljebsa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#famjljebsa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#famjljebsa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#famjljebsa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#famjljebsa .gt_left {
  text-align: left;
}

#famjljebsa .gt_center {
  text-align: center;
}

#famjljebsa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#famjljebsa .gt_font_normal {
  font-weight: normal;
}

#famjljebsa .gt_font_bold {
  font-weight: bold;
}

#famjljebsa .gt_font_italic {
  font-style: italic;
}

#famjljebsa .gt_super {
  font-size: 65%;
}

#famjljebsa .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#famjljebsa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#famjljebsa .gt_indent_1 {
  text-indent: 5px;
}

#famjljebsa .gt_indent_2 {
  text-indent: 10px;
}

#famjljebsa .gt_indent_3 {
  text-indent: 15px;
}

#famjljebsa .gt_indent_4 {
  text-indent: 20px;
}

#famjljebsa .gt_indent_5 {
  text-indent: 25px;
}
</style>
<div class="inline-table"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>Weighted total (N)</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col">
<strong>Weighted Count</strong><sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col"><strong>95%CI</strong></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">arrived</td>
<td class="gt_row gt_center">1,482,457</td>
<td class="gt_row gt_center">761,799 (51%)</td>
<td class="gt_row gt_center">40.9-61.7</td>
</tr>
<tr>
<td class="gt_row gt_left">left</td>
<td class="gt_row gt_center">1,482,457</td>
<td class="gt_row gt_center">701,199 (47%)</td>
<td class="gt_row gt_center">39.2-55.5</td>
</tr>
<tr>
<td class="gt_row gt_left">died</td>
<td class="gt_row gt_center">1,482,457</td>
<td class="gt_row gt_center">76,213 (5.1%)</td>
<td class="gt_row gt_center">2.1-12.1</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="4">
<sup class="gt_footnote_marks">1</sup> n (%)</td>
    </tr></tfoot>
</table></div>
</div>
<!-- ======================================================= -->
</div>
</div>
<div id="ağırlıklı-hızlar" class="section level2" number="26.9">
<h2>
<span class="header-section-number">26.9</span> Ağırlıklı hızlar<a class="anchor" aria-label="anchor" href="#a%C4%9F%C4%B1rl%C4%B1kl%C4%B1-h%C4%B1zlar"><i class="fas fa-link"></i></a>
</h2>
<p>Benzer şekilde ağırlıklı hızlar için (ölüm hızları gibi) <strong>survey</strong> veya <strong>srvyr</strong> paketini kullanabilirsiniz. Birkaç değişken üzerinde yineleme yapmak için benzer şekilde (yukarıdakilere benzer) fonksiyonlar yazabilirsiniz. Ayrıca <strong>gtsummary</strong> için yukarıdaki gibi bir fonksiyon oluşturabilirsiniz, ancak şu anda dahili bir fonksiyonelliği bulunmamaktadır.</p>
<div id="survey-paketi-2" class="section level3" number="26.9.1">
<h3>
<span class="header-section-number">26.9.1</span> <strong>Survey</strong> paketi<a class="anchor" aria-label="anchor" href="#survey-paketi-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ratio</span> <span class="op">&lt;-</span> <span class="fu">svyratio</span><span class="op">(</span><span class="op">~</span><span class="va">died</span>, </span>
<span>         denominator <span class="op">=</span> <span class="op">~</span><span class="va">obstime</span>, </span>
<span>         design <span class="op">=</span> <span class="va">base_survey_design</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html">confint</a></span><span class="op">(</span><span class="va">ratio</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span></span>
<span>  <span class="va">ratio</span><span class="op">$</span><span class="va">ratio</span> <span class="op">*</span> <span class="fl">10000</span>, </span>
<span>  <span class="va">ci</span> <span class="op">*</span> <span class="fl">10000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>##       obstime    2.5 %   97.5 %
## died 5.981922 1.194294 10.76955</code></pre>
</div>
<div id="srvyr-paketi-2" class="section level3" number="26.9.2">
<h3>
<span class="header-section-number">26.9.2</span> <strong>Srvyr</strong> paketi<a class="anchor" aria-label="anchor" href="#srvyr-paketi-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survey_design</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">## gözlem süresini hesaba katmak için kullanılan anket hızı</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span></span>
<span>    mortality <span class="op">=</span> <span class="fu">survey_ratio</span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">died</span><span class="op">)</span> <span class="op">*</span> <span class="fl">10000</span>, </span>
<span>      <span class="va">obstime</span>, </span>
<span>      vartype <span class="op">=</span> <span class="st">"ci"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   mortality mortality_low mortality_upp
##       &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
## 1      5.98         0.349          11.6</code></pre>
<!-- ======================================================= -->
</div>
</div>
<div id="kaynaklar-19" class="section level2" number="26.10">
<h2>
<span class="header-section-number">26.10</span> Kaynaklar<a class="anchor" aria-label="anchor" href="#kaynaklar-19"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://stats.idre.ucla.edu/r/seminars/survey-data-analysis-with-r/">UCLA istatistik sayfası</a></p>
<p><a href="http://asdfree.com/">Anket verilerini ücretsiz analiz edin</a></p>
<p><a href="http://gdfe.co/srvyr/">srvyr paketi</a></p>
<p><a href="http://www.danieldsjoberg.com/gtsummary/reference/index.html">gtsummary paketi</a></p>
<p><a href="https://github.com/EPIET/RapidAssessmentSurveys">EPIET anket vaka çalışmaları</a></p>

<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="temasl%C4%B1-izlemi.html"><span class="header-section-number">25</span> Temaslı izlemi</a></div>
<div class="next"><a href="sa%C4%9Fkal%C4%B1m-analizi.html"><span class="header-section-number">27</span> Sağkalım Analizi</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#anket-analizi"><span class="header-section-number">26</span> Anket analizi</a></li>
<li><a class="nav-link" href="#genel-bak%C4%B1%C5%9F-4"><span class="header-section-number">26.1</span> Genel bakış</a></li>
<li>
<a class="nav-link" href="#haz%C4%B1rl%C4%B1k-17"><span class="header-section-number">26.2</span> Hazırlık</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#paketler-2">Paketler</a></li>
<li><a class="nav-link" href="#veri-y%C3%BCkleme-1">Veri yükleme</a></li>
<li><a class="nav-link" href="#veri-temizleme-1">Veri temizleme</a></li>
</ul>
</li>
<li><a class="nav-link" href="#anket-verisi"><span class="header-section-number">26.3</span> Anket verisi</a></li>
<li><a class="nav-link" href="#g%C3%B6zlem-s%C3%BCresi"><span class="header-section-number">26.4</span> Gözlem süresi</a></li>
<li><a class="nav-link" href="#a%C4%9F%C4%B1rl%C4%B1kland%C4%B1rma"><span class="header-section-number">26.5</span> Ağırlıklandırma</a></li>
<li>
<a class="nav-link" href="#anket-tasar%C4%B1m-nesneleri"><span class="header-section-number">26.6</span> Anket tasarım nesneleri</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#survey-paketi"><span class="header-section-number">26.6.1</span> Survey paketi</a></li>
<li><a class="nav-link" href="#srvyr-paketi"><span class="header-section-number">26.6.2</span> Srvyr paketi</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#tan%C4%B1mlay%C4%B1c%C4%B1-analiz"><span class="header-section-number">26.7</span> Tanımlayıcı analiz</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%C3%B6rnekleme-yanl%C4%B1l%C4%B1%C4%9F%C4%B1"><span class="header-section-number">26.7.1</span> Örnekleme yanlılığı</a></li>
<li><a class="nav-link" href="#demografik-piramitler"><span class="header-section-number">26.7.2</span> Demografik piramitler</a></li>
<li><a class="nav-link" href="#alluvialsankey-diagram%C4%B1"><span class="header-section-number">26.7.3</span> Alluvial/sankey diagramı</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#a%C4%9F%C4%B1rl%C4%B1kl%C4%B1-orant%C4%B1lar"><span class="header-section-number">26.8</span> Ağırlıklı orantılar</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#survey-paketi-1"><span class="header-section-number">26.8.1</span> Survey paketi</a></li>
<li><a class="nav-link" href="#srvyr-paketi-1"><span class="header-section-number">26.8.2</span> Srvyr paketi</a></li>
<li><a class="nav-link" href="#sitrep-paketi"><span class="header-section-number">26.8.3</span> Sitrep paketi</a></li>
<li><a class="nav-link" href="#gtsummary-paketi"><span class="header-section-number">26.8.4</span> Gtsummary paketi</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#a%C4%9F%C4%B1rl%C4%B1kl%C4%B1-h%C4%B1zlar"><span class="header-section-number">26.9</span> Ağırlıklı hızlar</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#survey-paketi-2"><span class="header-section-number">26.9.1</span> Survey paketi</a></li>
<li><a class="nav-link" href="#srvyr-paketi-2"><span class="header-section-number">26.9.2</span> Srvyr paketi</a></li>
</ul>
</li>
<li><a class="nav-link" href="#kaynaklar-19"><span class="header-section-number">26.10</span> Kaynaklar</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>The Epidemiologist R Handbook</strong>" was written by the handbook team. It was last built on 2022-11-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
